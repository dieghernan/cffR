---
title: "BibTeX and CFF"
subtitle: A potential crosswalk
bibliography: REFERENCES.bib
author: Diego Hernangómez
description: >-
  This article presents a crosswalk between BibTeX and Citation File Format 
  [@druskat_citation_2021], as it is performed by the cffr package 
  [@hernangomez2021].
abstract: >-
  This article presents a crosswalk between BibTeX and Citation File Format 
  [@druskat_citation_2021], as it is performed by the cffr package 
  [@hernangomez2021]. Several crosswalk models specific for each BibTeX entry
  type [@patashnik1988] are proposed.
link-citations: yes
documentclass: article
output: 
  rmarkdown::html_vignette:
    toc: true
vignette: >
  %\VignetteIndexEntry{BibTeX and CFF}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = ""
)

options(width = 60)
```

## Citation

Please cite this article as:

```{r cit, echo=FALSE, results='asis'}
thisart <- bibentry("article",
  title = "{BibTeX} and {CFF}, a potential crosswalk",
  key = "hernangomez2022",
  author = "Diego Hernangómez",
  journal = "The {cffr} package",
  year = 2022,
  volume = "Vignettes",
)
cat("  \n")
thisart
```

A BibTeX entry for LaTeX users:

``` bibtex
@article{hernangomez2022,
    title        = {{BibTeX} and {CFF}, a potential crosswalk},
    author       = {Diego Hernangómez},
    year         = 2022,
    journal      = {The {cffr} package},
    volume       = {Vignettes}
}
```

## BibTeX and R

[BibTeX](https://en.wikipedia.org/wiki/BibTeX) is a well-known format for
storing references created by [Oren
Patashnik](https://en.wikipedia.org/wiki/Oren_Patashnik "Oren Patashnik") and
[Leslie Lamport](https://en.wikipedia.org/wiki/Leslie_Lamport "Leslie Lamport")
back in 1985. BibTeX that may be reused by another software, like
[LaTeX](https://en.wikipedia.org/wiki/LaTeX), for adding references to a work.
An example structure of a BibTeX entry would be:

``` bibtex
@book{einstein1921,
    title        = {Relativity: The Special and the General Theory},
    author       = {Einstein, A.},
    year         = 1920,
    publisher    = {Henry Holt and Company},
    address      = {London, United Kingdom},
    isbn         = 9781587340925
}
```

On this case, the entry (identified as `einstein1921`) would refer to a book.
This entry then can be used on a document and include references to it.

On **R** [@R_2021], we can replicate this structure using the `bibentry()` and
`toBibtex()` functions:

```{r bibentry, comment="#>"}

entry <- bibentry("book",
  key = "einstein1921",
  title = "Relativity: The Special and the General Theory",
  author = person("A.", "Einstein"),
  year = 1920,
  publisher = "Henry Holt and Company",
  address = "London, United Kingdom",
  isbn = 9781587340925,
)

toBibtex(entry)
```

The final results of the entry as a text string would be parsed as[^1]:

[^1]: By default R Pandoc would generate the cite on the Chicago author-date
    format [@rmarkdowncookbook2020]

```{r echo=FALSE, results='asis'}

entry
```

## BibTeX definitions

@patashnik1988 provides a comprehensive explanation of the BibTeX formats. We
can distinguish between **Entries** and **Fields**.

### Entries {#entries}

Each entry type defines a different type of work. The 14 entry types defined on
BibTeX[^2] are:

[^2]: Other implementations similar to BibTeX, as
    [BibLaTeX](https://www.ctan.org/pkg/biblatex), expand the definitions of
    entries including other types as **online**, **software** or **dataset**. On
    BibTeX these entries should be reclassified to **misc**.

-   **\@article**: An article from a journal or magazine.
-   **\@book**: A book with an explicit publisher.
-   **\@booklet**: A work that is printed and bound, but without a named
    publisher or sponsoring institution.
-   **\@conference**: The same as **\@inproceedings**, included for Scribe
    compatibility.
-   **\@inbook**: A part of a book, which may be a chapter (or section or
    whatever) and/or a range of pages.
-   **\@incollection**: A part of a book having its own title.
-   **\@inproceedings**: An article in a conference proceedings.
-   **\@manual**: Technical documentation.
-   **\@mastersthesis**: A Master's thesis.
-   **\@misc**: Use this type when nothing else fits.
-   **\@phdthesis**: A PhD thesis.
-   **\@proceedings**: The proceedings of a conference.
-   **\@techreport**: A report published by a school or other institution,
    usually numbered within a series.
-   **\@unpublished**: A document having an author and title, but not formally
    published.

Regarding the entries, `bibentry()` **R** function does not implement
**\@conference** . However, we can replace that key by **\@inproceedings** given
that the definition is identical.

### Fields

As in the case of Entries, @patashnik1988 provides also a definition for each of
the possible standard BibTeX fields[^3]. An entry can include other fields that
would be ignored on the raw implementation of BibTeX:

[^3]: As in the case of the entries, other implementations based on BibTeX may
    recognize additional fields.

-   **address**: Usually the address of the **publisher** or other of
    **institution**.
-   **annote**: An annotation. It is not used by the standard bibliography
    styles, but may be used by others that produce an annotated bibliography.
-   **author**: The name(s) of the author(s), in the format described in the
    LaTeX book [@lamport86latex].
-   **booktitle**: Title of a book, part of which is being cited. For **\@book**
    entries, use the **title** field instead.
-   **chapter**: A chapter (or section or whatever) number.
-   **crossref**: The database key of the entry being cross referenced.
-   **edition**: The edition of a **\@book** - for example, "Second". This
    should be an ordinal, and should have the first letter capitalized, the
    standard styles convert to lower case when necessary.
-   **editor**: Name(s) of editor(s), typed as indicated in the LaTeX book
    [@lamport86latex]. If there is also an **author** field, then the editor
    field gives the editor of the book or collection in which the reference
    appears.
-   **howpublished**: How something strange has been published. The first word
    should be capitalized.
-   **institution**: The sponsoring institution of a technical report.
-   **journal**: A journal name.
-   **key**: Used for alphabetizing, cross referencing, and creating a label
    when the **author** information is missing.
-   **month**: The month in which the work was published or, for an unpublished
    work, in which it was written. You should use the standard three-letter
    abbreviation, as described in Appendix B.1.3 of the LaTeX book
    [@lamport86latex] (i.e. `jan, feb, mar`).
-   **note**: Any additional information that can help the reader. The first
    word should be capitalized.
-   **number**: The number of a journal, magazine, technical report, or of a
    work in a series. An issue of a journal or magazine is usually identified by
    its **volume**: and number; the organization that issues a technical report
    usually gives it a number; and sometimes books are given numbers in a named
    series.
-   **organization**: The organization that sponsors a **\@conference** or that
    publishes a manual.
-   **pages**: One or more page numbers or range of numbers, such as `42--111`
    or `7,41,73--97` or `43+`.
-   **publisher**: The publisher's name.
-   **school**: The name of the school where a thesis was written.
-   **series**: The name of a series or set of books. When citing an entire
    book, the **title** field gives its title and an optional **series** field
    gives the name of a series or multi-volume set in which the book is
    published.
-   **title**: The work's title.
-   **type**: The type of a technical report---for example, "Research Note".
-   **volume**: The volume of a journal or multivolume book.
-   **year**: The year of publication or, for an unpublished work, the year it
    was written. Generally it should consist of four numerals, such as `1984`.

There is a strict relation between Entries and Fields on BibTeX. Depending on
the type of entries, some fields are required while others are optional or even
ignored. On the following table, required field are flagged as **\*** and
optional fields are flagged as **-**. Fields on parenthesis **()** denotes that
there are some degree of flexibility on the requirement of the field, see
@patashnik1988 for more information.

```{r entry_fields1, echo=FALSE}

bibtex_field_entry <- read.csv(system.file("extdata/bibtex_field_entry.csv",
  package = "cffr"
),
sep = ","
)

t1 <- bibtex_field_entry[, c(1:7)]

knitr::kable(t1,
  col.names = gsub("\\.", ",", names(t1)),
  align = c("l", rep("c", 6)),
  caption = "BibTeX, required fields by entry"
)
```

```{r entry_fields2, echo=FALSE}
t2 <- bibtex_field_entry[, c(1, 8:13)]

knitr::kable(t2,
  col.names = gsub("\\.", ",", names(t2)),
  align = c("l", rep("c", 6)),
  caption = "(cont) BibTeX, required fields by entry"
)
```

It can be observed that just a subset of fields is required in any of the
Entries. For example, **title**, **year** and **author** are either required or
optional on almost every entry, while **crossref**, **annote** or **key** are
never required.

## Citation File Format

[Citation File Format (CFF](https://citation-file-format.github.io/))
[@druskat_citation_2021] are plain text files with human- and machine-readable
citation information for software (and datasets). Among the [valid keys of
CFF](https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md#valid-keys)
there are two keys, `preferred-citation` and `references` of special interest
for citing and referring to related works[^4]:

[^4]: See [Guide to Citation File Format schema version
    1.2.0](https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md#preferred-citation).

-   **`preferred-citation`**: A reference to another work that should be cited
    instead of the software or dataset itself.

-   **`references`**: Reference(s) to other creative works. Similar to a list of
    references in a paper, references of the software or dataset may include
    other software (dependencies), or other research products that the software
    or dataset builds on, but not work describing the software or dataset.

These two keys are expected to be
[`definition.reference`](https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md#definitionsreference)
objects, therefore they may contain the following keys:

```{r refkeys, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}
library(cffr)

# Fill with whites
l <- c(cff_schema_definitions_refs(), rep("", 4))


refkeys <- matrix(l, ncol = 5, byrow = TRUE)

knitr::kable(refkeys,
  caption = "Valid keys on CFF `definition-reference` objects"
)
```

These keys are the equivalent to the fields of BibTeX (see [Fields]), with the
exception of the key **type**. On CFF, this key defines the type of work[^5],
therefore this is the equivalent to the BibTeX entries (see
[Entries](#entries)).

[^5]: See a complete list of possible values of CFF type on the [Guide to
    Citation File Format schema version
    1.2.0](https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md#definitionsreferencetype).

## Proposed crosswalk

The **cffr** package [@hernangomez2021] provides utilities from converting
BibTeX entries (via the **R** base function `bibentry()`) to CFF files and
vice-versa. This section describes how the conversion between both formats have
been implemented. This crosswalk is based partially on
@Haines_Ruby_CFF_Library_2021[^6].

[^6]: Note that this software performs only the conversion from CFF to BibTeX,
    however **cffr** can perform the conversion in both directions.

On the following two section I present an overview of the proposed mapping
between the Entries and Fields of BibTeX and the CFF keys. After this initial
mapping, I propose further transformations to improve the compatibility between
both systems using different [Entry Models].

### Entry/Type crosswalk

For converting general BibTeX entries to CFF types, the following crosswalk is
proposed:

| BibTeX Entry        | Value of CFF key: type | Notes              |
|---------------------|------------------------|--------------------|
| **\@article**       | article                |                    |
| **\@book**          | book                   |                    |
| **\@booklet**       | pamphlet               |                    |
| **\@conference**    | conference-paper       |                    |
| **\@inbook**        | book                   | See [Entry Models] |
| **\@incollection**  | generic                | See [Entry Models] |
| **\@inproceedings** | conference-paper       |                    |
| **\@manual**        | manual                 |                    |
| **\@mastersthesis** | thesis                 | See [Entry Models] |
| **\@misc**          | generic                |                    |
| **\@phdthesis**     | thesis                 | See [Entry Models] |
| **\@proceedings**   | proceedings            |                    |
| **\@techreport**    | report                 |                    |
| **\@unpublished**   | unpublished            |                    |

: Entry/Type crosswalk: From BibTeX to CFF

Also, given that CFF provides with a [wide range of allowed
values](https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md#definitionsreferencetype)
on type, the following conversion would be performed from CFF to BibTeX:

+---------------------+--------------------------+----------------------------+
| Value of CFF key:   | BibTeX Entry             | Notes                      |
| type                |                          |                            |
+=====================+==========================+============================+
| book                | **\@book** **/           | See [Entry Models]         |
|                     | \@inbook**               |                            |
+---------------------+--------------------------+----------------------------+
| conference          | **\@inproceedings**      |                            |
+---------------------+--------------------------+----------------------------+
| conference-paper    | **\@inproceedings**      |                            |
+---------------------+--------------------------+----------------------------+
| magazine-article    | **\@article**            |                            |
+---------------------+--------------------------+----------------------------+
| manual              | **\@manual**             |                            |
+---------------------+--------------------------+----------------------------+
| newspaper-article   | **\@article**            |                            |
+---------------------+--------------------------+----------------------------+
| pamphlet            | **\@booklet**            |                            |
+---------------------+--------------------------+----------------------------+
| proceedings         | **\@proceedings**        |                            |
+---------------------+--------------------------+----------------------------+
| report              | **\@techreport**         |                            |
+---------------------+--------------------------+----------------------------+
| thesis              | **\@mastersthesis /      | See [Entry Models]         |
|                     | \@phdthesis**            |                            |
+---------------------+--------------------------+----------------------------+
| unpublished         | **\@unpublished**        |                            |
+---------------------+--------------------------+----------------------------+
| generic             | **\@misc /               | Under specific conditions, |
|                     | \@incollection**         | see [Entry Models]         |
+---------------------+--------------------------+----------------------------+
| \<any other value>  | **\@misc**               |                            |
+---------------------+--------------------------+----------------------------+

: Entry/Type crosswalk: From CFF to BibTeX

### Fields/Key crosswalk

There is a large degree of similarity between the definition and names of some
BibTeX fields and CFF keys[^7]. On the following cases, the equivalence is
almost straightforward:

[^7]: To avoid errors on the interpretation, names in **bold** correspond to
    BibTeX fields while the same number on [underscore]{.ul} would refer to CFF.

| BibTeX Field     | CFF key                   |
|------------------|---------------------------|
| **address**      | See [Entry Models]        |
| ***annote***     | \-                        |
| **author**       | [authors]{.ul}            |
| **booktitle**    | [collection-title]{.ul}   |
| **chapter**      | [section]{.ul}            |
| ***crossref***   | \-                        |
| **edition**      | [edition]{.ul}            |
| **editor**       | [editors]{.ul}            |
| **howpublished** | [medium]{.ul}             |
| **institution**  | See [Entry Models]        |
| **journal**      | [journal]{.ul}            |
| ***key***        | \-                        |
| **month**        | [month]{.ul}              |
| **note**         | [notes]{.ul}              |
| **number**       | [issue]{.ul}              |
| **organization** | See [Entry Models]        |
| **pages**        | [start]{.ul} & [end]{.ul} |
| **publisher**    | [publisher]{.ul}          |
| **school**       | See [Entry Models]        |
| **series**       | See [Entry Models]        |
| **title**        | [title]{.ul}              |
| ***type***       | \-                        |
| **volume**       | [volume]{.ul}             |
| **year**         | [year]{.ul}               |

: BibTeX - CFF Field/Key crosswalk

Additionally, there are other additional CFF keys that have a correspondence
with BibLaTeX fields. We propose also to include these fields on the
crosswalk[^8], although they are not part of the core BibTeX fields definition.

[^8]: See @biblatexcheatsheet for a preview of the accepted BibLaTeX fields.

| BibLaTeX Field | CFF key               |
|----------------|-----------------------|
| **abstract**   | [abstract]{.ul}       |
| **date**       | [date-published]{.ul} |
| **doi**        | [doi]{.ul}            |
| **file**       | [filename]{.ul}       |
| **isbn**       | [isbn]{.ul}           |
| **issn**       | [issn]{.ul}           |
| **issuetitle** | [issue-title]{.ul}    |
| **pagetotal**  | [pages]{.ul}          |
| **translator** | [translators]{.ul}    |
| **url**        | [url]{.ul}            |
| **urldate**    | [date-accessed]{.ul}  |
| **version**    | [version]{.ul}        |

: BibLaTeX - CFF Field/Key crosswalk

## Entry Models

This section presents the specific mapping proposed for each of the BibTeX
entries, providing further information on how each field is treated. Examples
are adapted from the [xampl.bib](https://tug.org/texmf-docs/bibtex/xampl.bib)
file provided with the bibtex package [@patashnik].

### article

The crosswalk of **\@article** does not require any special treatment.

+------------------+----------------------+-----------------------------------+
| BibTeX           | CFF                  | Note                              |
+==================+======================+===================================+
| **\@article**    | [type: article]{.ul} | When converting CFF to BibTeX,    |
|                  |                      | [type magazine-article]{.ul} and  |
|                  |                      | [newspaper-article]{.ul} are      |
|                  |                      | converted to **\@article**.       |
+------------------+----------------------+-----------------------------------+
| **author\***     | [authors]{.ul}       |                                   |
+------------------+----------------------+-----------------------------------+
| **title\***      | [title]{.ul}         |                                   |
+------------------+----------------------+-----------------------------------+
| **journal\***    | [journal]{.ul}       |                                   |
+------------------+----------------------+-----------------------------------+
| **year\***       | [year]{.ul}          |                                   |
+------------------+----------------------+-----------------------------------+
| **volume**       | [volume]{.ul}        |                                   |
+------------------+----------------------+-----------------------------------+
| **number**       | [issue]{.ul}         |                                   |
+------------------+----------------------+-----------------------------------+
| **pages**        | [start]{.ul} and     | Separated by `--`, i.e,           |
|                  | [end]{.ul}           |                                   |
|                  |                      | **pages** = {3--5}                |
|                  |                      |                                   |
|                  |                      | would be parsed as                |
|                  |                      |                                   |
|                  |                      | [start]{.ul}: 3                   |
|                  |                      |                                   |
|                  |                      | [end]{.ul}: 5                     |
+------------------+----------------------+-----------------------------------+
| **month**        | [month]{.ul}         | As a fallback, **month** could be |
|                  |                      | extracted also from **date**      |
|                  |                      | (BibLaTeX field)/                 |
|                  |                      | [date-published]{.ul}             |
+------------------+----------------------+-----------------------------------+
| **note**         | [notes]{.ul}         |                                   |
+------------------+----------------------+-----------------------------------+

: **\@article** Model

**Examples**

[*BibTeX entry*]{.ul}

``` bibtex
@article{article-full,
    title        = {The Gnats and Gnus Document Preparation System},
    author       = {Leslie A. Aamport},
    year         = 1986,
    month        = jul,
    journal      = {{G-Animal's} Journal},
    volume       = 41,
    number       = 7,
    pages        = {73+},
    note         = {This is a full ARTICLE entry}
}
```

[*CFF entry*]{.ul}

```{r echo=FALSE}

bib <- bibentry("article",
  title        = "The Gnats and Gnus Document Preparation System",
  author       = "Leslie A. Aamport",
  year         = 1986,
  month        = "jul",
  journal      = "{G-Animal's} Journal",
  volume       = 41,
  number       = 7,
  pages        = "73+",
  note         = "This is a full ARTICLE entry"
)

cff_parse_citation(bib)
```

[*From CFF to BibTeX*]{.ul}

```{r echo=FALSE}
toBibtex(cff_to_bibtex(cff_parse_citation(bib)))
```

### book/inbook

In terms of field required on BibTeX, the only difference between **\@book** and
**\@inbook** is that the latter requires also a **chapter** or **pages**, while
for **\@book** these fields are not even optional. So we propose here to
identify an **\@inbook** on CFF as a [book]{.ul} with [section]{.ul} and
[start]{.ul}-[end]{.ul} fields (CFF).

Another specificity is that **series** field is mapped to
[collection-title]{.ul} and **address** is mapped as the [address]{.ul} of the
[publisher]{.ul} (CFF).

+------------------------+--------------------------+--------------------------+
| BibTeX                 | CFF                      | Note                     |
+========================+==========================+==========================+
| **\@book**             | [type: book]{.ul}        |                          |
+------------------------+--------------------------+--------------------------+
| **\@inbook**           | [type: book]{.ul}        | For identifying an       |
|                        |                          | **\@inbook** in CFF,     |
|                        |                          | assess if [section]{.ul} |
|                        |                          | or                       |
|                        |                          | [start]{.ul}-[end]{.ul}  |
|                        |                          | information is available |
+------------------------+--------------------------+--------------------------+
| **author\***           | [authors]{.ul}           |                          |
+------------------------+--------------------------+--------------------------+
| **editor\***           | [editors]{.ul}           |                          |
+------------------------+--------------------------+--------------------------+
| **title\***            | [title]{.ul}             |                          |
+------------------------+--------------------------+--------------------------+
| **publisher\***        | [publisher]{.ul}         |                          |
+------------------------+--------------------------+--------------------------+
| **year\***             | [year]{.ul}              |                          |
+------------------------+--------------------------+--------------------------+
| **chapter\***          | [section]{.ul}           | Only required on         |
|                        |                          | **\@inbook**             |
+------------------------+--------------------------+--------------------------+
| **pages\***            | [start]{.ul} and         | Only required on         |
|                        | [end]{.ul}               | **\@inbook**             |
+------------------------+--------------------------+--------------------------+
| **volume**             | [volume]{.ul}            |                          |
+------------------------+--------------------------+--------------------------+
| **number**             | [issue]{.ul}             |                          |
+------------------------+--------------------------+--------------------------+
| **series**             | [collection-title]{.ul}  |                          |
+------------------------+--------------------------+--------------------------+
| **address**            | [address]{.ul} property  | As a fallback, the field |
|                        | of [publisher]{.ul}      | [location]{.ul} can be   |
|                        |                          | used                     |
+------------------------+--------------------------+--------------------------+
| **edition**            | [edition]{.ul}           |                          |
+------------------------+--------------------------+--------------------------+
| **month**              | [month]{.ul}             | See **Note** on          |
|                        |                          | [article]                |
+------------------------+--------------------------+--------------------------+
| **note**               | [notes]{.ul}             |                          |
+------------------------+--------------------------+--------------------------+

: **\@book/\@inbook** Model

**Examples: book**

[*BibTeX entry*]{.ul}

``` bibtex
@book{book-full,
    title        = {Seminumerical Algorithms},
    author       = {Donald E. Knuth},
    year         = 1981,
    month        = 10,
    publisher    = {Addison-Wesley},
    address      = {Reading, Massachusetts},
    series       = {The Art of Computer Programming},
    volume       = 2,
    note         = {This is a full BOOK entry},
    edition      = {Second}
}
```

[*CFF entry*]{.ul}

```{r echo=FALSE}

bib <- bibentry("Book",
  title = "Seminumerical Algorithms",
  author = "Donald E. Knuth",
  year = 1981,
  month = 10,
  publisher = "Addison-Wesley",
  address = "Reading, Massachusetts",
  series = "The Art of Computer Programming",
  volume = 2,
  note = "This is a full BOOK entry",
  edition = "Second"
)

cff_parse_citation(bib)
```

[*From CFF to BibTeX*]{.ul}

```{r,  echo=FALSE}
toBibtex(cff_to_bibtex(cff_parse_citation(bib)))
```

**Examples: inbook**

[*BibTeX entry*]{.ul}

``` bibtex
@inbook{10.5555/218623-1,
    title        = {Fundamental Algorithms},
    author       = {Donald E. Knuth},
    year         = 1973,
    month        = 10,
    publisher    = {Addison-Wesley},
    address      = {Reading, Massachusetts},
    series       = {The Art of Computer Programming},
    volume       = 1,
    pages        = {10--119},
    note         = {This is a full INBOOK entry},
    edition      = {Second},
    type         = {Section},
    chapter      = {1.2}
}
```

[*CFF entry*]{.ul}

```{r echo=FALSE,}

bib <- bibentry("inbook",
  title        = "Fundamental Algorithms",
  author       = "Donald E. Knuth",
  year         = 1973,
  month        = 10,
  publisher    = "Addison-Wesley",
  address      = "Reading, Massachusetts",
  series       = "The Art of Computer Programming",
  volume       = 1,
  pages        = "10--119",
  note         = "This is a full INBOOK entry",
  edition      = "Second",
  type         = "Section",
  chapter      = "1.2"
)

cff_parse_citation(bib)
```

[*From CFF to BibTeX*]{.ul}

```{r echo=FALSE,}
toBibtex(cff_to_bibtex(cff_parse_citation(bib)))
```

### booklet

In **\@booklet** **address** is mapped to [location]{.ul}.

+-----------------------------+------------------+----------------------------+
| BibTeX                      | CFF              | Note                       |
+=============================+==================+============================+
| **\@booklet**               | [type:           |                            |
|                             | pamphlet]{.ul}   |                            |
+-----------------------------+------------------+----------------------------+
| **title\***                 | [title]{.ul}     |                            |
+-----------------------------+------------------+----------------------------+
| **author\***                | [authors]{.ul}   |                            |
+-----------------------------+------------------+----------------------------+
| **howpublished**            | [medium]{.ul}    |                            |
+-----------------------------+------------------+----------------------------+
| **address**                 | [location]{.ul}  |                            |
+-----------------------------+------------------+----------------------------+
| **month**                   | [month]{.ul}     | See **Note** on [article]  |
+-----------------------------+------------------+----------------------------+
| **year**                    | [year]{.ul}      | As a fallback, **year**    |
|                             |                  | could be extracted also    |
|                             |                  | from **date** (BibLaTeX    |
|                             |                  | field)/                    |
|                             |                  | [date-published]{.ul}      |
+-----------------------------+------------------+----------------------------+
| **note**                    | [notes]{.ul}     |                            |
+-----------------------------+------------------+----------------------------+

: **\@booklet** Model

**Examples**

[*BibTeX entry*]{.ul}

``` bibtex
@booklet{booklet-full,
    title        = {The Programming of Computer Art},
    author       = {Jill C. Knvth},
    date         = {1988-03-14},
    month        = feb,
    address      = {Stanford, California},
    note         = {This is a full BOOKLET entry},
    howpublished = {Vernier Art Center}
}
```

[*CFF entry*]{.ul}

```{r echo=FALSE, }

bib <- bibentry("booklet",
  title = "The Programming of Computer Art",
  author = "Jill C. Knvth",
  date = "1988-03-14",
  month = "feb",
  address = "Stanford, California",
  note = "This is a full BOOKLET entry",
  howpublished = "Vernier Art Center"
)

cff_parse_citation(bib)
```

[*From CFF to BibTeX*]{.ul}

```{r echo=FALSE, }
toBibtex(cff_to_bibtex(cff_parse_citation(bib)))
```

### conference/inproceedings

Note that in this case, **organization** is mapped to [institution]{.ul}, as
BibTeX does not prescribe the use of **institution** on these entries.

+-------------------------+---------------------------+-----------------------+
| BibTeX                  | CFF                       | Note                  |
+=========================+===========================+=======================+
| **\@conference /        | [type:                    | CFF entries with      |
| \@inproceedings**       | conference-paper]{.ul}    | [type]{.ul}           |
|                         |                           | =conference are       |
|                         |                           | mapped back to        |
|                         |                           | **\@inproceedings**.  |
+-------------------------+---------------------------+-----------------------+
| **author\***            | [authors]{.ul}            |                       |
+-------------------------+---------------------------+-----------------------+
| **title\***             | [title]{.ul}              |                       |
+-------------------------+---------------------------+-----------------------+
| **booktitle\***         | [collection-title]{.ul}   |                       |
+-------------------------+---------------------------+-----------------------+
| **year\***              | [year]{.ul}               |                       |
+-------------------------+---------------------------+-----------------------+
| **editor**              | [editors]{.ul}            |                       |
+-------------------------+---------------------------+-----------------------+
| **volume**              | [volume]{.ul}             |                       |
+-------------------------+---------------------------+-----------------------+
| **number**              | [issue]{.ul}              |                       |
+-------------------------+---------------------------+-----------------------+
| **series**              | [conference]{.ul}         |                       |
+-------------------------+---------------------------+-----------------------+
| **pages**               | [start]{.ul} and          | See **Note** on       |
|                         | [end]{.ul}                | [article]             |
+-------------------------+---------------------------+-----------------------+
| **address**             | [location]{.ul}           | As a fallback,        |
|                         |                           | [address]{.ul}        |
|                         |                           | property of           |
|                         |                           | [conference]{.ul} can |
|                         |                           | be used               |
+-------------------------+---------------------------+-----------------------+
| **month**               | [month]{.ul}              | See **Note** on       |
|                         |                           | [article]             |
+-------------------------+---------------------------+-----------------------+
| **organization**        | [institution]{.ul}        |                       |
+-------------------------+---------------------------+-----------------------+
| **publisher**           | [publisher]{.ul}          |                       |
+-------------------------+---------------------------+-----------------------+
| **note**                | [notes]{.ul}              |                       |
+-------------------------+---------------------------+-----------------------+

: **\@conference/\@inproceedings** Model

**Examples**

[*BibTeX entry*]{.ul}

``` bibtex
@inproceedings{inproceedings-full,
    title        = {On Notions of Information Transfer in {VLSI} Circuits},
    author       = {Alfred V. Oaho and Jeffrey D. Ullman and Mihalis Yannakakis},
    year         = 1983,
    month        = mar,
    booktitle    = {Proc. Fifteenth Annual ACM Symposium on the Theory of Computing},
    publisher    = {Academic Press},
    address      = {Boston},
    series       = {All ACM Conferences},
    number       = 17,
    pages        = {133--139},
    editor       = {Wizard V. Oz and Mihalis Yannakakis},
    organization = {The OX Association for Computing Machinery}
}
```

[*CFF entry*]{.ul}

```{r echo=FALSE,}

bib <- bibentry("inproceedings",
  title        = "On Notions of Information Transfer in {VLSI} Circuits",
  author       = "Alfred V. Oaho and Jeffrey D. Ullman and Mihalis Yannakakis",
  year         = 1983,
  month        = "mar",
  booktitle    = "Proc. Fifteenth Annual ACM Symposium on the Theory of Computing",
  publisher    = "Academic Press",
  address      = "Boston",
  series       = "All ACM Conferences",
  number       = 17,
  pages        = "133--139",
  editor       = "Wizard V. Oz and Mihalis Yannakakis",
  organization = "The OX Association for Computing Machinery"
)

cff_parse_citation(bib)
```

[*From CFF to BibTeX*]{.ul}

```{r echo=FALSE,}
toBibtex(cff_to_bibtex(cff_parse_citation(bib)))
```

### incollection

As **booktitle** is a required field, we propose to map that field to
[collection-title]{.ul} and the [type]{.ul} to [generic]{.ul}. Therefore, an
**\@incollection** is a [type: generic]{.ul} with a [collection-title]{.ul} key.

+-------------------------+-------------------------+-------------------------+
| **BibTeX**              | CFF                     | Note                    |
+=========================+=========================+=========================+
| **\@incollection**      | [type: generic]{.ul}    | Including a             |
|                         |                         | [collection-title]{.ul} |
|                         |                         | value                   |
+-------------------------+-------------------------+-------------------------+
| **author\***            | [authors]{.ul}          |                         |
+-------------------------+-------------------------+-------------------------+
| **title\***             | [title]{.ul}            |                         |
+-------------------------+-------------------------+-------------------------+
| **booktitle\***         | [collection-title]{.ul} |                         |
+-------------------------+-------------------------+-------------------------+
| **publisher\***         | [publisher]{.ul}        |                         |
+-------------------------+-------------------------+-------------------------+
| **year\***              | [year]{.ul}             |                         |
+-------------------------+-------------------------+-------------------------+
| **editor**              | [editors]{.ul}          |                         |
+-------------------------+-------------------------+-------------------------+
| **volume**              | [volume]{.ul}           |                         |
+-------------------------+-------------------------+-------------------------+
| **number**              | [issue]{.ul}            |                         |
+-------------------------+-------------------------+-------------------------+
| **series**              | [series]{.ul}           |                         |
+-------------------------+-------------------------+-------------------------+
| **type**                | \-                      | Ignored                 |
+-------------------------+-------------------------+-------------------------+
| **chapter**             | [section]{.ul}          |                         |
+-------------------------+-------------------------+-------------------------+
| **pages**               | [start]{.ul} and        | See **Note** on         |
|                         | [end]{.ul}              | [article]               |
+-------------------------+-------------------------+-------------------------+
| **address**             | [address]{.ul} property | See **Note** on         |
|                         | of [publisher]{.ul}     | [book/inbook]           |
+-------------------------+-------------------------+-------------------------+
| **edition**             | [edition]{.ul}          |                         |
+-------------------------+-------------------------+-------------------------+
| **month**               | [month]{.ul}            | See **Note** on         |
|                         |                         | [article]               |
+-------------------------+-------------------------+-------------------------+
| **note**                | [notes]{.ul}            |                         |
+-------------------------+-------------------------+-------------------------+

: **\@incollection** Model

**Examples**

[*BibTeX entry*]{.ul}

``` bibtex
@incollection{incollection-full,
    title        = {Semigroups of Recurrences},
    author       = {Daniel D. Lincoll},
    year         = 1977,
    month        = sep,
    booktitle    = {High Speed Computer and Algorithm Organization},
    publisher    = {Academic Press},
    address      = {New York},
    series       = {Fast Computers},
    number       = 23,
    pages        = {179--183},
    note         = {This is a full INCOLLECTION entry},
    editor       = {David J. Lipcoll and D. H. Lawrie and A. H. Sameh},
    chapter      = 3,
    type         = {Part},
    edition      = {Third}
}
```

[*CFF entry*]{.ul}

```{r echo=FALSE,}

bib <- bibentry("incollection",
  title        = "Semigroups of Recurrences",
  author       = "Daniel D. Lincoll",
  year         = 1977,
  month        = "sep",
  booktitle    = "High Speed Computer and Algorithm Organization",
  publisher    = "Academic Press",
  address      = "New York",
  series       = "Fast Computers",
  number       = 23,
  pages        = "179--183",
  note         = "This is a full INCOLLECTION entry",
  editor       = "David J. Lipcoll and D. H. Lawrie and A. H. Sameh",
  chapter      = 3,
  type         = "Part",
  edition      = "Third"
)

cff_parse_citation(bib)
```

[*From CFF to BibTeX*]{.ul}

```{r echo=FALSE,}
toBibtex(cff_to_bibtex(cff_parse_citation(bib)))
```

### manual

As in the case of [conference/inproceedings], **organization** is mapped to
[institution]{.ul}.

+--------------------------+-----------------------------+---------------------+
| **BibTeX**               | CFF                         | Note                |
+==========================+=============================+=====================+
| **\@manual**             | [type: manual]{.ul}         |                     |
+--------------------------+-----------------------------+---------------------+
| **title\***              | [title]{.ul}                |                     |
+--------------------------+-----------------------------+---------------------+
| **author**               | [authors]{.ul}              |                     |
+--------------------------+-----------------------------+---------------------+
| **organization**         | [institution]{.ul}          |                     |
+--------------------------+-----------------------------+---------------------+
| **address**              | [location]{.ul}             |                     |
+--------------------------+-----------------------------+---------------------+
| **edition**              | [edition]{.ul}              |                     |
+--------------------------+-----------------------------+---------------------+
| **month**                | [month]{.ul}                | See **Note** on     |
|                          |                             | [article]           |
+--------------------------+-----------------------------+---------------------+
| **year**                 | [year]{.ul}                 | See **Note** on     |
|                          |                             | [booklet]           |
+--------------------------+-----------------------------+---------------------+
| **note**                 | [notes]{.ul}                |                     |
+--------------------------+-----------------------------+---------------------+

: **\@manual** Model

**Examples**

[*BibTeX entry*]{.ul}

Note that **month** can't be parsed to a single integer in the range `1--12` as
required on CFF, so it is not parsed to avoid validation errors.

``` bibtex
@manual{manual-full,
  title        = {The Definitive Computer Manual},
    author       = {Larry Manmaker},
    year         = 1986,
    month        = {apr-may},
    address      = {Silicon Valley},
    note         = {This is a full MANUAL entry},
    organization = {Chips-R-Us},
    edition      = {Silver}
}
```

[*CFF entry*]{.ul}

```{r echo=FALSE,}

bib <- bibentry("Manual",
  title        = "The Definitive Computer Manual",
  author       = "Larry Manmaker",
  year         = 1986,
  month        = "apr-may",
  address      = "Silicon Valley",
  note         = "This is a full MANUAL entry",
  organization = "Chips-R-Us",
  edition      = "Silver"
)

cff_parse_citation(bib)
```

[*From CFF to BibTeX*]{.ul}

```{r echo=FALSE,}
toBibtex(cff_to_bibtex(cff_parse_citation(bib)))
```

### mastersthesis/phdthesis (TBD)

### misc

The crosswalk of **\@misc** does not require any special treatment. This entry
does not require any field.

Note als that it is mapped to [type: generic]{.ul} as [incollection], but in
this case **booktitle** is not even an option, so the proposed definition should
cover both **\@misc** and **\@incollection** without problems.

+--------------------------+-----------------------------+---------------------+
| **BibTeX**               | CFF                         | Note                |
+==========================+=============================+=====================+
| **\@misc**               | [type: generic]{.ul}        |                     |
+--------------------------+-----------------------------+---------------------+
| **author**               | [authors]{.ul}              |                     |
+--------------------------+-----------------------------+---------------------+
| **title**                | [title]{.ul}                |                     |
+--------------------------+-----------------------------+---------------------+
| **howpublished**         | [medium]{.ul}               |                     |
+--------------------------+-----------------------------+---------------------+
| **month**                | [month]{.ul}                | See **Note** on     |
|                          |                             | [article]           |
+--------------------------+-----------------------------+---------------------+
| **year**                 | [year]{.ul}                 | See **Note** on     |
|                          |                             | [booklet]           |
+--------------------------+-----------------------------+---------------------+
| **note**                 | [notes]{.ul}                |                     |
+--------------------------+-----------------------------+---------------------+

: **\@misc** Model

**Examples**

[*BibTeX entry*]{.ul}

``` bibtex
@misc{misc-full,
    title        = {Handing out random pamphlets in airports},
    author       = {Joe-Bob Missilany},
    year         = 1984,
    month        = oct,
    note         = {This is a full MISC entry},
    howpublished = {Handed out at O'Hare}
}
```

[*CFF entry*]{.ul}

```{r echo=FALSE,}

bib <- bibentry("Misc",
  title        = "Handing out random pamphlets in airports",
  year         = 1984,
  month        = "oct",
  note         = "This is a MISC entry",
  howpublished = "Handed out at O'Hare"
)

cff_parse_citation(bib)
```

[*From CFF to BibTeX*]{.ul}

```{r echo=FALSE,}
toBibtex(cff_to_bibtex(cff_parse_citation(bib)))
```

### proceedings (TBD)

### techreport

+--------------------------+-----------------------------+---------------------+
| **BibTeX**               | CFF                         | Note                |
+==========================+=============================+=====================+
| **\@techreport**         | [type: report]{.ul}         |                     |
+--------------------------+-----------------------------+---------------------+
| **author\***             | [authors]{.ul}              |                     |
+--------------------------+-----------------------------+---------------------+
| **title\***              | [title]{.ul}                |                     |
+--------------------------+-----------------------------+---------------------+
| **institution\***        | [institution]{.ul}          |                     |
+--------------------------+-----------------------------+---------------------+
| **year\***               | [year]{.ul}                 |                     |
+--------------------------+-----------------------------+---------------------+
| **type**                 | \-                          | Ignored             |
+--------------------------+-----------------------------+---------------------+
| **number**               | [issue]{.ul}                |                     |
+--------------------------+-----------------------------+---------------------+
| **address**              | [address]{.ul} property of  | See **Note** on     |
|                          | [institution]{.ul}          | [book/inbook]       |
+--------------------------+-----------------------------+---------------------+
| **month**                | [month]{.ul}                | See **Note** on     |
|                          |                             | [article]           |
+--------------------------+-----------------------------+---------------------+
| **note**                 | [notes]{.ul}                |                     |
+--------------------------+-----------------------------+---------------------+

: **\@techreport** Model

**Examples**

[*BibTeX entry*]{.ul}

``` bibtex
@techreport{techreport-full,
    title        = {A Sorting Algorithm},
    author       = {Tom Terrific},
    year         = 1988,
    month        = oct,
    address      = {Computer Science Department, Fanstord, California},
    number       = 7,
    note         = {This is a full TECHREPORT entry},
    institution  = {Fanstord University},
    type         = {Wishful Research Result}
}
```

[*CFF entry*]{.ul}

```{r echo=FALSE,}

bib <- bibentry("techreport",
  title = "A Sorting Algorithm",
  author = "Tom Terrific",
  year = 1988,
  month = "oct",
  address = "Computer Science Department, Fanstord, California",
  number = 7,
  note = "This is a full TECHREPORT entry",
  institution = "Fanstord University",
  type = "Wishful Research Result"
)

cff_parse_citation(bib)
```

[*From CFF to BibTeX*]{.ul}

```{r echo=FALSE,}
toBibtex(cff_to_bibtex(cff_parse_citation(bib)))
```

### unpublished

+--------------------------+-----------------------------+---------------------+
| **BibTeX**               | CFF                         | Note                |
+==========================+=============================+=====================+
| **\@unpublished**        | [type: unpublished]{.ul}    |                     |
+--------------------------+-----------------------------+---------------------+
| **author\***             | [authors]{.ul}              |                     |
+--------------------------+-----------------------------+---------------------+
| **title\***              | [title]{.ul}                |                     |
+--------------------------+-----------------------------+---------------------+
| **note\***               | [notes]{.ul}                |                     |
+--------------------------+-----------------------------+---------------------+
| **month**                | [month]{.ul}                | See **Note** on     |
|                          |                             | [article]           |
+--------------------------+-----------------------------+---------------------+
| **year**                 | [year]{.ul}                 | See **Note** on     |
|                          |                             | [booklet]           |
+--------------------------+-----------------------------+---------------------+

: **\@unpublished** Model

**Examples**

[*BibTeX entry*]{.ul}

``` bibtex
@unpublished{unpublished-minimal,
    title        = {Lower Bounds for Wishful Research Results},
    author       = {Ulrich Underwood and Ned Net and Paul Pot},
    note         = {Talk at Fanstord University (this is a minimal UNPUBLISHED entry)}
}
```

[*CFF entry*]{.ul}

```{r echo=FALSE,}

bib <- bibentry("unpublished",
  title        = "Lower Bounds for Wishful Research Results",
  author       = "Ulrich Underwood and Ned Net and Paul Pot",
  note         = "Talk at Fanstord University (this is a minimal UNPUBLISHED entry)"
)

cff_parse_citation(bib)
```

[*From CFF to BibTeX*]{.ul}

```{r echo=FALSE,}
toBibtex(cff_to_bibtex(cff_parse_citation(bib)))
```

## References
